<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <script src="../resources/js/jquery-1.11.3.js"></script>
    <script src="../resources/js/moment.js"></script>
    <script src="../resources/js/transition.js"></script>
    <script src="../resources/js/collapse.js"></script>
    <script src="../resources/js/bootstrap.js"></script>
    <script src="../resources/js/bootstrap-datetimepicker.js"></script>

    <link rel="stylesheet" href="../resources/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../resources/css/normalize.css"/>
    <link rel="stylesheet" href="../resources/css/styles.css"/>

    <title>Автовокзал "Центральный"</title>
</h:head>
<h:body>

    <ui:include src="template/nav.xhtml"></ui:include>

    <div class="container" id="main">
        <div class="row">
            <c:if test="#{routeBean.routes.size() > 0}">
                <ui:repeat value="#{routeBean.routes}" var="route" varStatus="index">
                    <div class="col-md-4 col-sm-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h:form>
                                    <h:commandLink styleClass="pull-right" action="#{routeBean.routeDetailsPage(route)}" value="Подробности"></h:commandLink>
                                </h:form>
                                <h4>#{route.destination.departure} - #{route.destination.arrive}</h4>
                            </div>
                            <div class="panel-body">
                                <ul class="list-group">
                                    <li class="list-group-item list-group-item-warning">Время Отправления - #{route.dateStart.toLocaleString()}</li>
                                    <li class="list-group-item list-group-item-info">Время Прибытия - #{route.dateEnd.toLocaleString()}</li>
                                    <li class="list-group-item list-group-item-success list-group-item-heading">Стоимость - #{route.destination.price} BYR</li>

                                    <li class="list-group-item list-group-item-danger list-group-item-heading">Осталось мест - #{route.placesLeft}</li>

                                    <li class="list-group-item">Автобус - #{route.bus.title}</li>
                                    <li class="list-group-item">Вместимость Автобуса- #{route.bus.capacity}</li>
                                    <li class="list-group-item">Гос. Номер - #{route.bus.govId}</li>
                                    <li class="list-group-item">Расстояние - #{route.destination.distance} Км</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </ui:repeat>
            </c:if>
            <c:if test="#{routeBean.routes.size() == 0}">
                <div class="col-md-offset-4 col-md-4  col-sm-offset-3 col-sm-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4>Ошибка</h4>
                        </div>
                        <div class="panel-body">
                            К Сожалению, Маршрутов Не Найдено
                        </div>
                    </div>
                </div>
            </c:if>
        </div>
    </div>

    <ui:include src="template/modal.xhtml"></ui:include>

</h:body>
</html> 